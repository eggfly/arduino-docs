C51 COMPILER V9.00   MAIN                                                                  06/25/2013 10:21:05 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\source\main.c BROWSE DEBUG OBJECTEXTEND PRINT(.\main.lst) OBJECT(.\main.
                    -obj)

line level    source

   1          /******************************************************************************
   2          
   3                    版权所有 (C), 2011-2012, 信意电子科技(http://xydz123.taobao.com/)
   4          
   5           ******************************************************************************
   6            文 件 名   : main.c
   7            版 本 号   : v1.0
   8            作    者   : Guokaiyi
   9            生成日期   : 2012-12-1
  10            最近修改   : 
  11            功能描述   : OLED演示例程(51系列)
  12                         说明: 
  13                         ----------------------------------------------------------------
  14                         G    电源地
  15                         VCC  接5V或3.3v电源
  16                         D0   P1^0（SCLK）
  17                         D1   P1^1（MOSI）
  18                         RST  P1^2
  19                         DC   P1^3
  20                         CS   已接地，不用接                     
  21                         ----------------------------------------------------------------
  22            修改历史   :
  23            1.日    期   : 2012-12-1
  24              作    者   : Guokaiyi
  25              修改内容   : 创建文件
  26          
  27          ******************************************************************************/
  28          
  29          /*----------------------------------------------------------------------------*
  30           * 包含头文件                                                                 *
  31           *----------------------------------------------------------------------------*/
  32          #include "common.h"
  33          #include "oled.h"
  34          
  35          /*----------------------------------------------------------------------------*
  36           * 宏定义                                                                     *
  37           *----------------------------------------------------------------------------*/
  38          
  39          /*----------------------------------------------------------------------------*
  40           * 全局变量                                                                   *
  41           *----------------------------------------------------------------------------*/
  42          
  43          /*----------------------------------------------------------------------------*
  44           * 内部函数原型                                                               *
  45           *----------------------------------------------------------------------------*/
  46          VOID MAIN_Init(VOID); //初始化函数
  47          VOID MAIN_OLED_Display(VOID); //OLED显示函数
  48          VOID MAIN_TIME_Delay(USHORT16 usTime); //延时函数
  49          
  50          /*----------------------------------------------------------------------------*
  51           * 外部函数原型                                                               *
  52           *----------------------------------------------------------------------------*/
  53          
  54          VOID main(void) 
C51 COMPILER V9.00   MAIN                                                                  06/25/2013 10:21:05 PAGE 2   

  55          {
  56   1          MAIN_Init();
  57   1      
  58   1          MAIN_OLED_Display();
  59   1          
  60   1          return;
  61   1      }
  62          
  63          VOID MAIN_Init(VOID)
  64          {
  65   1          LED_Init();
  66   1      
  67   1          return;
  68   1      }
  69          
  70          VOID MAIN_OLED_Display(VOID)
  71          {
  72   1          USHORT16 i;
  73   1      
  74   1          LED_P14x16Str(25, 0, (UCHAR8*)"信意电子科技");
  75   1          LED_P8x16Str(0, 2, (UCHAR8*)" http://xydz123.taobao.com");
  76   1          MAIN_TIME_Delay(4000);
  77   1      
  78   1          LED_Fill(0x00);    
  79   1          LED_P14x16Str(30, 1, (UCHAR8*)"屏幕测试");
  80   1      
  81   1          for (i = 0; i <= 100; i++)
  82   1          {
  83   2              MAIN_TIME_Delay(40);
  84   2              LED_PrintChar(45, 5, (CHAR8)i);        
  85   2          }
  86   1      
  87   1          LED_Fill(0xFF); //点亮全屏
  88   1          MAIN_TIME_Delay(8000);
  89   1      
  90   1          LED_Fill(0x00); //黑屏
  91   1          MAIN_TIME_Delay(2000);
  92   1      
  93   1          LED_P8x16Str(10, 2, (UCHAR8*)"Test Finished!");
  94   1      
  95   1          for (;;)
  96   1          {
  97   2              ;
  98   2          }
  99   1          
 100   1          return;
 101   1      }
 102          
 103          /*****************************************************************************
 104           函 数 名  : MAIN_TIME_Delay
 105           功能描述  : 在12MHz晶振 1T下 延时时间约等于usTime ms
 106           输入参数  : USHORT16 usTime  
 107           输出参数  : NONE
 108           返 回 值  : 
 109          *****************************************************************************/
 110          VOID MAIN_TIME_Delay(USHORT16 usTime)
 111          {
 112   1          UCHAR8 j;
 113   1          LONG32 i;
 114   1          
 115   1          for (i = (LONG32)10 * usTime; i > 0; i--)
 116   1          {
C51 COMPILER V9.00   MAIN                                                                  06/25/2013 10:21:05 PAGE 3   

 117   2              for(j = 110; j > 0; j--)
 118   2              {
 119   3              }
 120   2          }
 121   1      
 122   1          return;
 123   1      }
 124          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    208    ----
   CONSTANT SIZE    =     64    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
